<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="/finalProject_ITEC116/GreekMythCMS/">
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="styles/auth.css">
    <title>Register</title>
    <script>
        token = localStorage.getItem('token');
        if(token) window.location.href = 'index.html';
     </script>
</head>
<body>
    <div class="registerContainer">
        <form id="registerForm" class="registerForm" enctype="multipart/form-data">
            <h1>Register</h1>
            <div class="input-field">
                <label for="Username">Username</label>
                <input type="text" id="username" name="username" class="usernameValid">
                <span id="usernameValid"></span>
            </div>
            <div class="input-field">
                <label for="Email">Email</label>
                <input type="text" id="email" name="email">
            </div>
            <div class="input-field">
                <label for="Password">Password</label>
                <input type="password" id="password" name="password">
                <span id="passwordValid"></span>
            </div>
            <div class="input-field">
                <label for="Confirm Password">Confirm Password</label>
                <input type="password" id="confirm_password" name="confirm_password">
            </div>
            <div class="image-field">
                <label for="Image">Image</label>
                <img src="src/images/default.jpg" alt="user" id="profilePic">
                <input type="file" name="image" accept="image/*" id="image">
                <p>Maximum of 5MB</p>
            </div>
            <div class="verification-field" id="sendCode">
                <label for="code">Verification Code</label>
                <input type="text" id="code" name="code">
                <div class="codeOptions">
                    <button type="submit" id="sendCodeBtn" value="Send_code">Send</button>
                    <button type="submit" id="verifyCodeBtn" value="Verify_code">Verify</button>
                </div>
                <span id="successMessage" class="successMessage"></span>
            </div>
            <div class="group-container">
                <button type="submit" id="registerBtn" value="Register">Register</button>
                <p>Already have an account? <a href="auth/login.html">Sign In</a></p>
            </div>
        </form>
    </div>
    <script type="text/javascript">
        var imageInput = document.getElementById('image');
        var image = document.getElementById('profilePic');

        imageInput.addEventListener("change", function () {
            if(this.files && this.files[0]){
                let url = URL.createObjectURL(this.files[0]);

                image.src = url;
                image.style.display = 'block';
            }
        })
    </script>
    <script src="api/auth/greekmythApiAuth.js"></script>
    <script src="api/field_check/greekMythApiFieldErrors.js"></script>
</body>
</html>